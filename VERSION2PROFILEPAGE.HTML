<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Information Form</title>
 <link rel="stylesheet" type="text/css" href="RecruitUProfilePageStyle.css">
</head>
<body>

  <h2>User Information</h2>

  <label for="birthday">Birthday:</label>
  <input type="date" id="birthday" name="birthday">
 <br>
  <label for="heightFeet">Height:</label>
  <input type="number" id="heightFeet" name="heightFeet" placeholder="Feet" min="1" max="10">
  <input type="number" id="heightInches" name="heightInches" placeholder="Inches" min="0" max="11">
  <br>
  <label for="weightPounds">Weight:</label>
  <input type="number" id="weightPounds" name="weightPounds" placeholder="Pounds" min="0" max="700">
   <br>
   <br>
   <br>

  <h2>School History</h2>

  <table>
    <thead>
      <tr>
        <th>School Name</th>
        <th>Major</th>
        <th>GPA</th>
        <th>Class Year</th>
      </tr>
    </thead>
    <tbody id="schoolHistory">
      <!-- Users can dynamically add rows to this table -->
    </tbody>
  </table>

  <button onclick="addOrUpdateSchoolRow()">Add or Update School</button>

  <button onclick="submitForm()">Submit</button>
  <p id="errorMessage"></p>

  <script>
    // You can use JavaScript to dynamically add or update rows based on user input
    // For brevity, I'm providing a basic example here.
    // In a real-world scenario, you might want to use a more robust solution, like React or Vue.

    // Example function to add or update a row in the table
    function addOrUpdateSchoolRow() {
      var table = document.getElementById("schoolHistory");

      // Check if a row already exists
      if (table.rows.length === 0) {
        // If no row exists, add a new row
        var newRow = table.insertRow(0);

        var cells = [];
        for (var i = 0; i < 4; i++) {
          cells[i] = newRow.insertCell(i);
          if (i === 2) {
            // For the GPA input
            cells[i].innerHTML = "<input type='text' title='Enter a valid GPA format (#.##)' max='4.0' oninput='validateGPA(this)'>";
          } else if (i === 3) {
            // For the Class Year input
            cells[i].innerHTML = "<input type='number' title='Enter a 4-digit number' min='1900' oninput='validateClassYear(this)'>";
          } else {
            cells[i].innerHTML = "<input type='text'>";
          }
        }
      } else {
        // If a row exists, update the existing row
        var cells = table.rows[0].cells;
        for (var i = 0; i < 4; i++) {
          if (i === 2) {
            // For the GPA input
            cells[i].innerHTML = "<input type='text' title='Enter a valid GPA format (#.##)' max='4.0' oninput='validateGPA(this)'>";
          } else if (i === 3) {
            // For the Class Year input
            cells[i].innerHTML = "<input type='number' title='Enter a 4-digit number' min='1900' oninput='validateClassYear(this)'>";
          } else {
            cells[i].innerHTML = "<input type='text'>";
          }
        }
      }
    }

    // Function to validate GPA input
    function validateGPA(input) {
      var gpa = parseFloat(input.value);

      if (isNaN(gpa) || gpa < 0 || gpa > 4) {
        input.setCustomValidity('Enter a valid GPA between 0 and 4.0');
      } else {
        input.setCustomValidity('');
      }
    }

    // Function to validate Class Year input
    function validateClassYear(input) {
      var classYear = parseInt(input.value);

      if (isNaN(classYear) || classYear < 1900) {
        input.setCustomValidity('Enter a valid 4-digit Class Year not less than 1900');
      } else {
        input.setCustomValidity('');
      }
    }


// Function to submit the form and perform validation
function submitForm() {
  var errorMessage = document.getElementById("errorMessage");
  errorMessage.innerHTML = "";

  // Collect error messages
  var errorMessages = [];

  // Check GPA validity
  var gpaInput = document.querySelector("#schoolHistory input[title='Enter a valid GPA format (#.##)']");
  if (gpaInput && !gpaInput.checkValidity()) {
    errorMessages.push("Please enter a valid GPA between 0 and 4.0");
  }

  // Check Class Year validity
  var classYearInput = document.querySelector("#schoolHistory input[title='Enter a 4-digit number']");
  if (classYearInput && !classYearInput.checkValidity()) {
    errorMessages.push("Please enter a valid 4-digit Class Year not less than 1900");
  }

  // Display error messages
  if (errorMessages.length > 0) {
    errorMessage.innerHTML = errorMessages.join("<br>");
    return;
  }

  // Your code to submit the form data goes here
  // For example, you can send the data to a server or perform further processing
  console.log("Form data submitted successfully!");
}

  </script>

</body>
</html>
